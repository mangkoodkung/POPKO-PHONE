<!-- Visual Bridge Extension Settings -->
<!-- ä½œè€…: kencuo -->
<!-- GitHub: https://github.com/kencuo/chajian -->

<div class="visual-bridge-container">
  <div class="vb-header">
    <h3>ğŸŒ‰ æ™ºèƒ½è§†è§‰æ¡¥æ¥å™¨</h3>
    <span class="vb-badge">v1.2.0</span>
    <span class="vb-version">by kencuo</span>
  </div>

  <div class="vb-config-grid">
    <!-- åŸºç¡€è®¾ç½® -->
    <div class="vb-config-card">
      <h4>åŸºç¡€é…ç½®</h4>
      
      <div class="vb-form-group">
        <label class="vb-label">
          å¯ç”¨æ’ä»¶
          <span class="vb-badge">æ ¸å¿ƒ</span>
        </label>
        <label class="vb-toggle">
          <input type="checkbox" id="vb-enabled" checked>
          <span class="vb-slider"></span>
        </label>
        <div class="vb-help-text">
          å¼€å¯åå°†æä¾›å›¾åƒå¤„ç†å’Œå­˜å‚¨åŠŸèƒ½
        </div>
      </div>

      <div class="vb-form-group">
        <label class="vb-label" for="vb-optimization-mode">ä¼˜åŒ–æ¨¡å¼</label>
        <select id="vb-optimization-mode" class="vb-select">
          <option value="smart">æ™ºèƒ½æ¨¡å¼ (æ¨è)</option>
          <option value="quality">è´¨é‡ä¼˜å…ˆ</option>
          <option value="speed">é€Ÿåº¦ä¼˜å…ˆ</option>
        </select>
        <div class="vb-help-text">
          æ™ºèƒ½æ¨¡å¼ä¼šæ ¹æ®å›¾åƒç‰¹å¾è‡ªåŠ¨é€‰æ‹©æœ€ä½³å¤„ç†æ–¹å¼
        </div>
      </div>
    </div>

    <!-- å›¾åƒä¼˜åŒ– -->
    <div class="vb-config-card">
      <h4>å›¾åƒä¼˜åŒ–</h4>
      
      <div class="vb-form-group">
        <label class="vb-label" for="vb-quality">
          å‹ç¼©è´¨é‡: <span id="vb-quality-value">85</span>%
        </label>
        <div class="vb-range-container">
          <input type="range" id="vb-quality" class="vb-range" min="10" max="100" value="85" step="5">
          <div class="vb-range-value" id="vb-quality-display">85%</div>
        </div>
        <div class="vb-help-text">
          è¾ƒé«˜çš„å€¼ä¿æŒæ›´å¥½çš„å›¾åƒè´¨é‡ï¼Œä½†æ–‡ä»¶æ›´å¤§
        </div>
      </div>

      <div class="vb-form-group">
        <label class="vb-label" for="vb-max-dimension">æœ€å¤§å°ºå¯¸ (åƒç´ )</label>
        <select id="vb-max-dimension" class="vb-select">
          <option value="1024">1024px (æ ‡å‡†)</option>
          <option value="1536">1536px (é«˜æ¸…)</option>
          <option value="2048" selected>2048px (è¶…æ¸…)</option>
          <option value="4096">4096px (åŸå§‹)</option>
        </select>
        <div class="vb-help-text">
          å›¾åƒçš„æœ€å¤§å®½åº¦æˆ–é«˜åº¦é™åˆ¶
        </div>
      </div>
    </div>

    <!-- å­˜å‚¨ç®¡ç† -->
    <div class="vb-config-card">
      <h4>å­˜å‚¨ç®¡ç†</h4>
      
      <div class="vb-form-group">
        <label class="vb-label" for="vb-organization">ç»„ç»‡æ–¹å¼</label>
        <select id="vb-organization" class="vb-select">
          <option value="hybrid" selected>æ··åˆæ¨¡å¼ (è§’è‰²+æ—¶é—´)</option>
          <option value="character">æŒ‰è§’è‰²åˆ†ç±»</option>
          <option value="chronological">æŒ‰æ—¶é—´åˆ†ç±»</option>
        </select>
        <div class="vb-help-text">
          å†³å®šæ–‡ä»¶åœ¨å­˜å‚¨ç³»ç»Ÿä¸­çš„ç»„ç»‡ç»“æ„
        </div>
      </div>

      <div class="vb-form-group">
        <label class="vb-label" for="vb-file-limit">æ–‡ä»¶å¤§å°é™åˆ¶ (MB)</label>
        <select id="vb-file-limit" class="vb-select">
          <option value="10">10 MB</option>
          <option value="20" selected>20 MB</option>
          <option value="50">50 MB</option>
          <option value="100">100 MB</option>
        </select>
        <div class="vb-help-text">
          è¶…è¿‡æ­¤å¤§å°çš„æ–‡ä»¶å°†è¢«æ‹’ç»å¤„ç†
        </div>
      </div>
    </div>

    <!-- é«˜çº§é€‰é¡¹ -->
    <div class="vb-config-card">
      <h4>é«˜çº§é€‰é¡¹</h4>
      
      <div class="vb-form-group">
        <label class="vb-label">
          æ€§èƒ½ç›‘æ§
          <span class="vb-badge">åˆ†æ</span>
        </label>
        <label class="vb-toggle">
          <input type="checkbox" id="vb-metrics" checked>
          <span class="vb-slider"></span>
        </label>
        <div class="vb-help-text">
          æ”¶é›†å¤„ç†ç»Ÿè®¡ä¿¡æ¯ä»¥ä¼˜åŒ–æ€§èƒ½
        </div>
      </div>

      <div class="vb-form-group">
        <label class="vb-label">æ”¯æŒçš„æ ¼å¼</label>
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
          <span class="vb-badge">JPEG</span>
          <span class="vb-badge">PNG</span>
          <span class="vb-badge">WebP</span>
          <span class="vb-badge">GIF</span>
        </div>
        <div class="vb-help-text">
          å½“å‰æ”¯æŒçš„å›¾åƒæ ¼å¼åˆ—è¡¨
        </div>
      </div>
    </div>
  </div>

  <!-- çŠ¶æ€æ  -->
  <div class="vb-status-bar">
    <div class="vb-status-item">
      <div class="vb-status-label">çŠ¶æ€</div>
      <div class="vb-status-value" id="vb-status">å°±ç»ª</div>
    </div>
    <div class="vb-status-item">
      <div class="vb-status-label">å·²å¤„ç†</div>
      <div class="vb-status-value" id="vb-processed">0</div>
    </div>
    <div class="vb-status-item">
      <div class="vb-status-label">èŠ‚çœç©ºé—´</div>
      <div class="vb-status-value" id="vb-saved">0 KB</div>
    </div>
    <div class="vb-status-item">
      <div class="vb-status-label">å‹ç¼©ç‡</div>
      <div class="vb-status-value" id="vb-compression">0%</div>
    </div>
  </div>

  <!-- æ€§èƒ½æŒ‡æ ‡ -->
  <div id="vb-metrics-panel" style="display: none;">
    <div class="vb-metrics-grid">
      <div class="vb-metric-card">
        <div class="vb-metric-value" id="metric-total-files">0</div>
        <div class="vb-metric-label">æ€»æ–‡ä»¶æ•°</div>
      </div>
      <div class="vb-metric-card">
        <div class="vb-metric-value" id="metric-total-size">0 MB</div>
        <div class="vb-metric-label">æ€»å¤§å°</div>
      </div>
      <div class="vb-metric-card">
        <div class="vb-metric-value" id="metric-avg-time">0ms</div>
        <div class="vb-metric-label">å¹³å‡å¤„ç†æ—¶é—´</div>
      </div>
      <div class="vb-metric-card">
        <div class="vb-metric-value" id="metric-success-rate">100%</div>
        <div class="vb-metric-label">æˆåŠŸç‡</div>
      </div>
    </div>
  </div>

  <!-- åº•éƒ¨ä¿¡æ¯ -->
  <div style="text-align: center; margin-top: 20px; opacity: 0.8;">
    <small>
      ğŸš€ <strong>Visual Bridge</strong> v1.2.0 | 
      ğŸ‘¨â€ğŸ’» ä½œè€…: <a href="https://github.com/kencuo/chajian" target="_blank" style="color: white; text-decoration: none;">kencuo</a> | 
      ğŸ“– <a href="https://github.com/kencuo/chajian/wiki" target="_blank" style="color: white; text-decoration: none;">ä½¿ç”¨æ–‡æ¡£</a>
    </small>
  </div>
</div>

<script>
// å®æ—¶æ›´æ–°è´¨é‡å€¼æ˜¾ç¤º
document.getElementById('vb-quality').addEventListener('input', function(e) {
  const value = e.target.value;
  document.getElementById('vb-quality-value').textContent = value;
  document.getElementById('vb-quality-display').textContent = value + '%';
});

// åˆ‡æ¢æ€§èƒ½æŒ‡æ ‡é¢æ¿
document.getElementById('vb-metrics').addEventListener('change', function(e) {
  const panel = document.getElementById('vb-metrics-panel');
  panel.style.display = e.target.checked ? 'block' : 'none';
});

// æ¨¡æ‹ŸçŠ¶æ€æ›´æ–° (å®é™…ä¼šç”±ä¸»JSæ–‡ä»¶å¤„ç†)
function updateStatus() {
  // è¿™é‡Œä¼šè¢«ä¸»æ’ä»¶æ–‡ä»¶çš„å®é™…é€»è¾‘æ›¿æ¢
  console.log('[Visual Bridge] é…ç½®ç•Œé¢å·²åŠ è½½');
}

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', updateStatus);
</script>
